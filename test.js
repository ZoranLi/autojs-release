!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports={VERSION:"3.0",CLIENT:"weibo",STATUS_NEED_ACTIVE:1,STATUS_NEED_LOGIN:2,log:"",curAct:"",curTitleContent:"",curComment:"键(shui)盘(jun)侠你们清楚自己在干嘛吗？",curName:"",deviceIMEI:"",nickname:"",curGroupId:0,curTitle:"",canReply:!1,mainActName:"com.sina.weibo.MainTabActivity",isLogined:!0,needExit:!1,maxReplyCount:2,curReplyCount:0,lastReplyTime:0,curMinReplyIntv:1800,curLoop:!1,isComment:1,curKeyword:null,curKeywords:["十年沧桑谁解"],itemLogin:"11698",itemJihuo:"1507",token:"01612967355ef542176c2740c0855e2a5921725c4701",exceptPhone:"170.171.180.198.165.166",curPhone:"",curLoginCode:"",curHotTextItem:"",curUsername:"",curPassword:"",curRegisterCode:"",itemRegister:"47028",config:{debug:!1,disabled:!1,canReply:!1,canReplyDisabled:!1,exit:!1,model:0,groupId:0,topOfGroup:10,groupDelay:2e3,subGroupId:-1,groupItems:["推荐","榜单","社会","搞笑","情感","时尚","校园","摄影","艺术","明星","美女","NBA"],keywords:["十年沧桑谁解"],addFollowRate:30,showDetialRate:5,maxReplyCount:2,minReplyIntv:1800,loop:!1,isComment:1,itemLogin:"11698",itemJihuo:"1507",itemRegister:"47028",exceptPhone:"170.171.180.198.165.166",token:"01612967355ef542176c2740c0855e2a5921725c4701"},PageEnum:{UNKNOW:0,LOGIN:1,INPUT_CODE:2,ACCOUNT_CONFIRM:3,SELECT_CLASS:4,RECOMMEND:5,SIGEN:6,USER_CENTER:7,DETAIL:8,HOME_HOT:9,MINE:10,SETTING:11,ACCOUNTS:12,HOME_FOLLOW:13,HOME_SEARCH:14,SEARCH:15,SEARCH_HOT:16,SEARCH_TALK:17,SEARCH_TOP:18,SEARCH_SUPTALK:19,HOME_MESSAGE:20,USER_WEIBO:21,EDIT_SHARE:22,ADD_FOLLOW_WITH_SHARE:23,ACCOUNT_ERROR:24,WELCOME_CAMEBACK:25,WRITE_WEIBO:26,WELCOME_WEIBO:27,ACCOUNT_ERROR_2:28,ACCOUNT_ERROR_3:29,ACCOUNT_ERROR_4:30,HOME:31,ACCOUNT_ERROR_5:32,ACCOUNT_ERROR_6:33,REGISTER:35,ACCOUNT_SEND_CONFIRM:36,REGISTER_OK:37,UPDATED:38,INPUT_PHONE:39,INPUT_PASSWORD:40,FIND_PASSWORD:41,RED_PAGE:42,RED_FRIEND_PAGE:43,RED_BUY_PAGE:44},STEP:{NOCHANGE:0,LOGIN:1,WRITE:3,LOGOUT:9,NICKNAME:2,ISSTEP:5,NEEDLOGOUT:6,LOGINED:7,RUNNING:8,BEFORE:9}}},function(e,t,n){var o=n(0),i=n(3),l={getConfig:function(){try{let e=o.curName,t=http.get("https://kapi.i-tax.ren/api/aichat/config?f="+o.CLIENT+"&n="+encodeURIComponent(e)+"&t="+(new Date).getTime()+"&d="+device.getIMEI()+"&v="+o.VERSION).body.string();if(t){let e=JSON.parse(t);e&&(e.disabled||(o.config=e),o.token=o.config.token?o.config.token:o.token,o.itemJihuo=o.config.itemJihuo?o.config.itemJihuo:o.itemJihuo,o.itemLogin=o.config.itemLogin?o.config.itemLogin:o.itemLogin,o.itemRegister=o.config.itemRegister?o.config.itemRegister:o.itemRegister,o.exceptPhone=o.config.exceptPhone?o.config.exceptPhone:o.exceptPhone,o.canReply=o.config.canReplyDisabled?o.canReply:o.config.canReply,o.config.debug?console.show():console.hide())}return t}catch(e){}},getKeyword:function(){try{let e=http.get("https://kapi.i-tax.ren/api/aichat/keyword?f="+o.CLIENT+"&n="+encodeURIComponent(o.curName)+"&t="+(new Date).getTime()+"&d="+device.getIMEI()+"&v="+o.VERSION).body.string();return e&&(o.curKeyword=e),e}catch(e){o.curKeyword=null}},getReplyMsg:function(e){try{let t=e||o.curTitleContent.substr(0,255),n=http.get("https://kapi.i-tax.ren/api/aichat/reply?f="+o.CLIENT+"&c="+encodeURIComponent(t)+"&t="+(new Date).getTime()+"&d="+device.getIMEI()+"&v="+o.VERSION).body.string();return o.curComment=n,n}catch(e){o.curComment=null}},getComment:function(){return this.postReplyMsg()},getLoginPhone:function(){return i.getPhone(o.itemLogin)},getActivePhone:function(){return i.getPhone(o.itemJihuo)},getLoginCode:function(){return i.getSMS(o.curPhone,o.itemLogin)},getHotTextItem:function(){let e=["推荐","榜单","社会","搞笑","情感","时尚","校园","摄影","艺术","明星","美女","NBA"];o.config&&o.config.groupItems&&o.config.groupItems.length>0&&(e=o.config.groupItems),o.curGroupId=0;let t=random(0,e.length-1);return o.config&&o.config.subGroupId>-1&&(t=o.config.subGroupId),o.curHotTextItem=e[t],e[t]},getGivenWeiboTitle:function(){return"青凌巴山越岭"},postReplyMsg:function(e){r=http.postJson("https://kapi.i-tax.ren/api/aichat/reply",{n:o.curName,c:e||o.curTitleContent,d:device.getIMEI(),t:(new Date).getTime(),v:o.VERSION,f:o.CLIENT});let t=r.body.string();return o.curComment=t,t},postUpdateStatus:function(e){r=http.postJson("https://kapi.i-tax.ren/api/aichat/status",{n:o.curName,s:e,d:device.getIMEI(),t:(new Date).getTime(),v:o.VERSION,f:o.CLIENT});let t=r.body.string();return o.curComment=t,t},getTuling:function(e){r=http.postJson("http://www.tuling123.com/openapi/api",{key:"65458a5df537443b89b31f1c03202a80",info:"你好啊",userid:"1"});let t=r.body.string();return toast(t),o.curComment=t,t},loginOk:function(e,t,n,r){try{let i=t;return http.get("https://kapi.i-tax.ren/api/aichat/loginok?f="+o.CLIENT+"&n="+encodeURIComponent(i)+"&msg="+encodeURIComponent(r)+"&t="+(new Date).getTime()+"&d="+device.getIMEI()+"&p="+e+"&tp="+n).body.string()}catch(e){}},getCode:function(e){try{e=e||o.curPhone;let t=name;return http.get("https://kapi.i-tax.ren/api/aichat/phone/code?f="+o.CLIENT+"&n="+encodeURIComponent(t)+"&t="+(new Date).getTime()+"&d="+device.getIMEI()+"&p="+e).body.string()}catch(e){}},getRegisterPhone:function(){return i.getPhone(o.itemRegister)},getRegisterCode:function(){return i.getSMS(o.curPhone,o.itemRegister)},getRegisterSendCode:function(){return i.sendSMS(o.curPhone,o.itemRegister,"注册验证")},getRegisterName:function(){let e=["Aaron","Abbott","Abel","Abner","Abraham","Adair","Adam","Adolph","Adonis","Alan","Albert","Aldrich","Alexander","Alfred","Alger","Allen","Alston","Alva","Alvin","Alvis","Amos","Andre","Andrew","Andy","Angelo","Augus","Ansel","Antony","Antonio","Archer","Archibald","Aries","Arlen","Armand","Armstrong","Arno","Arthur","Arvin","Asa","Atwood","Aubrey","August","Augustine","Avery"],t=e[random(0,e.length-1)]+random(1e4,99999);return t=t.toLowerCase(),toast("username:"+t),console.log("username:"+t),t},getRegisterPassword:function(){return"16181814"},getRegisterOk:function(){let e={name:o.curName,phone:o.curPhone,item:o.itemRegister,client:o.CLIENT};return console.log("register ok:",e),this.loginOk(o.curPhone,o.curName,"register",JSON.stringify(e))},finish:function(){let e={username:o.curUsername,name:o.curName,phone:o.curPhone,item:o.itemRegister,client:o.CLIENT};return console.log("register ok:",e),this.loginOk(o.curPhone,o.curName,"register",JSON.stringify(e))}};e.exports=l},function(module,exports){var Utils={titleCase:function(e){return e.toLowerCase().split("_").map(function(e){return e.replace(e.charAt(0),e.charAt(0).toUpperCase())}).join("")},fill:function(e,t){for(var n=[],o=0;o<e;o+=1)n.push(JSON.parse(JSON.stringify(t)));return n},get:function(arr,name,value){return arr.find(function(obj){if(eval("obj."+name+" == value"))return obj})},isNull:function(e){return!e&&0!==e&&"boolean"!=typeof e}};module.exports=Utils},function(e,t,n){var o=n(0),r={_errorCode:{1001:"参数token不能为空",1002:"参数action不能为空",1003:"参数action错误",1004:"token失效",1005:"用户名或密码错误",1006:"用户名不能为空",1007:"密码不能为空",1008:"账户余额不足",1009:"账户被禁用",1010:"参数错误",1011:"账户待审核",1012:"登录数达到上限",2001:"参数itemid不能为空",2002:"项目不存在",2003:"项目未启用",2004:"暂时没有可用的号码",2005:"获取号码数量已达到上限",2006:"参数mobile不能为空",2007:"号码已被释放",2008:"号码已离线",2009:"发送内容不能为空",2010:"号码正在使用中",3001:"尚未收到短信",3002:"等待发送",3003:"正在发送",3004:"发送失败",3005:"订单不存在",3006:"专属通道不存在",3007:"专属通道未启用",3008:"专属通道密码与项目不匹配",9001:"系统错误",9002:"系统异常",9003:"系统繁忙"},getPhone:function(e){var t="http://api.fxhyd.cn/UserInterface.aspx?action=getmobile&token="+o.token+"&itemid="+e+"&excludeno="+o.exceptPhone+"&timestamp="+(new Date).getTime(),n=http.get(t);console.log("从平台获取手机号码code = "+n.statusCode);var r=n.body.string();if(console.log("从平台获取手机号码html = "+r),-1!=r.indexOf("success")){var i=(r=r.split("|"))[1];return console.log("手机号码=",i),i}return console.log(this._errorCode[r]),console.log("从平台获取手机号码异常,请检查网络或者token是否失效,脚本停止"),null},getSMS:function(e,t){for(var n=50,r=null,i=null,l="http://api.fxhyd.cn/UserInterface.aspx?action=getsms&token="+o.token+"&itemid="+t+"&mobile="+e+"&release=1&timestamp="+(new Date).getTime();n>0&&(r=http.get(l),console.log("从平台获取手机验证码code = "+r.statusCode),i=r.body.string(),console.log("从平台获取手机验证码html = "+i),toast(i),3001==i);)n-=1,sleep(3e3);if(i&&-1!=i.indexOf("success")){var a=(i=i.split("|"))[1].match(/\d{6}/g).join("");return console.log("验证码=",a),a}return console.log(this._errorCode[i]),console.log("从平台获取手机验证码异常,请检查网络或者token是否失效"),null},sendSMS:function(e,t,n){var r="http://api.fxhyd.cn/UserInterface.aspx?action=sendsms&token="+o.token+"&itemid="+t+"&mobile="+e+"&sms="+n+"&timestamp="+(new Date).getTime(),i=http.get(r);console.log("从手机号码发送code = "+i.statusCode);var l=i.body.string();return toast(l),console.log("从平台发送手机号码html = "+l),-1!=l.indexOf("success")?l:(console.log(this._errorCode[l]),console.log("从平台发送短信异常,请检查网络或者Env.是否失效,脚本停止"),null)},addPhoneBack:function(e,t){var n="http://api.fxhyd.cn/UserInterface.aspx?action=addignore&token="+o.token+"&itemid="+t+"&mobile="+e+"&timestamp="+(new Date).getTime(),r=http.get(n);console.log("拉黑手机号码code = "+r.statusCode);var i=r.body.string();if(console.log("拉黑手机号码html = "+i),-1==i.indexOf("success"))return console.log(this._errorCode[i]),console.log("拉黑手机号码异常,请检查网络或者token是否失效,脚本停止"),null;console.log("手机号码拉黑成功=",e)}};e.exports=r},function(module,exports,__webpack_require__){var Utils=__webpack_require__(2),Api=__webpack_require__(1),Env=__webpack_require__(0),operate={curPage:function(e){let t={name:"",pageid:0};for(let n in e)this.doExists(e[n].mark)&&(t=e[n]);return t},nextStep:function(e,t){let n={next:0,pageid:0,jobs:[]};for(let o in t){let r=t[o];r.pageid===e&&(n=r)}return n.next},isPage:function(e){return this.doExists(e)},build:function(item){let target=null;for(let k in item){let v=item[k];""!=v&&null!=v&&null!=v&&(target=target?eval("target."+k+"(v)"):eval(k+"(v)"))}return target},parseItem:function(e){let t=JSON.parse(JSON.stringify(e)),n=1;for(let o in e){let r=e[o];""!=r&&null!=r&&null!=r&&(t[o]=r.split("||"),n*=t[o].length)}let o=Utils.fill(n,e);for(let e in t){let r=t[e];if(Array.isArray(r))for(let t=0;t<r.length;t+=1)for(let i=0;i<n/r.length;i+=1){o[t*(n/r.length)+i][e]=r[t]}else for(let t=0;t<n;t+=1)o[t][e]=r}return o},findNode:function(e,t){let n=null;if(t&&!Utils.isNull(t.indexOf)){if(!Utils.isNull(t.parent)&&t.parent>0){n=this.build(e).findOne();let o=t.parent;for(;o>0;)n=n.parent,o--;n=n.children()}else n=this.build(e).find();n=this.indexOfNode(n,t)}else n=this.build(e).findOnce();return n||console.log("can not find ctrl",JSON.stringify(e),JSON.stringify(t)),n},indexOfNode:function(target,param){let maxTry=1;!Utils.isNull(param.indexOf.try)&&param.indexOf.try>-1&&(maxTry=param.indexOf.try);let tryt=maxTry;for(;tryt>0&&target.length<=0;)this.doSwipe({},{count:1}),target=this.build(mark).find(),tryt--;if(target.length>0)if("number"==typeof param.indexOf)target=-1==param.indexOf||param.indexOf>=target.length?target[target.length-1]:target[param.indexOf];else if("object"==typeof param.indexOf&&"object"==typeof param.indexOf.get)if(Utils.isNull(param.indexOf.tag))if(Utils.isNull(param.indexOf.default))target=target[0];else{let str=param.indexOf.default;target=eval("target.findOne("+param.indexOf.tag+"(str))")}else{let str=this.doGet(param.indexOf.get);target=eval("target.findOne("+param.indexOf.tag+"(str))")}else target=target[0];else target=null;for(;maxTry-tryt>0;)this.doSwipe({},{count:1,isUp:!0}),tryt++;return target},doClick:function(e,t){console.log("do click");let n=this.findNode(e,t);return n?n.clickable()?n.click():t&&t.clickChild?this.clickChild(n):this.clickParent(n):(console.log("not do click"),!1)},doTap:function(e,t){console.log("do tap");let n=this.findNode(e,t);return n?(Tap(n.bounds().centerX(),n.bounds().centerY()),sleep(500),Tap(n.bounds().centerX()+1,n.bounds().centerY()),Tap(n.bounds().centerX()-1,n.bounds().centerY()),Tap(n.bounds().centerX()+2,n.bounds().centerY()),Tap(n.bounds().centerX()-2,n.bounds().centerY()),!0):(console.log("not do tap"),!1)},doInput:function(e,t){console.log("do input");let n=this.findNode(e,t);if(n){Tap(n.bounds().centerX(),n.bounds().centerY()),sleep(1e3);let e="login_code";t&&!Utils.isNull(t.get)&&(e=t.get);let o=this.doGet(e);if(o){let e=o.split("");e.length>0&&setText(e[0]);for(let t=1;t<e.length;t++){let n=e[t];input(n),sleep(random(1e3,1500))}return!0}}else console.log("not do input");return!1},doSetText:function(e,t){console.log("do set text");let n=this.findNode(e,t);if(n){let e={name:"comment"};t&&!Utils.isNull(t.get)&&(e=t.get);let o=this.doGet(e);if(o)return n.setText(o)}else console.log("not do set text");return!1},doText:function(e,t){console.log("do text");let n=this.findNode(e,t);if(n){let e={name:"title_content"};t&&!Utils.isNull(t.set)&&(e=t.set);let o=n.text();return this.doSet(e,{default:o}),console.log(o.substr(0,100)),o}return console.log("not do text"),null},doDesc:function(e,t){console.log("do desc");let n=this.findNode(e,t);return n?(Env.curTitleContent=n.desc(),console.log(Env.curTitleContent.substr(0,100)),n.desc()):(console.log("not do desc"),null)},doSwipe:function(e,t){console.log("do swipe");let n=random(200,400),o=-1;t&&!Utils.isNull(t.count)&&t.count>-1&&(o=parseInt(t.count)),-1!=o&&null!=o&&null!=o&&""!=o||(o=random(1,3));let r=!1;for(t&&!Utils.isNull(t.isUp)&&(r=t.isUp);o>0;)console.log("swipe:"+o,r),r?Swipe(n+random(0,25),180+random(0,100),n+random(0,29),580+random(0,158),200+random(0,200)):Swipe(n+random(0,29),580+random(0,158),n+random(0,25),180+random(0,100),200+random(0,200)),sleep(random(500,1e3)),o-=1;return!0},doRefresh:function(e,t){return console.log("do refresh"),Swipe(310,250,310,600),sleep(1e3+random(0,2e3)),!0},doBack:function(e,t){return console.log("do back"),back(),!0},doSleep:function(e,t){let n=-1;return t&&!Utils.isNull(t.delay)&&t.delay>-1&&(n=parseInt(t.delay)),-1!=n&&null!=n&&null!=n&&""!=n||(n=random(1e3,2e3)),console.log("do sleep",n),sleep(n),!0},doEnter:function(){console.log("do enter"),KeyCode("KEYCODE_ENTER")},doWait:function(e,t){console.log("do wait for");let n=this.build(e),o="Wait For";return Utils.isNull(e.text)||(o+=":Text:"+e.text),Utils.isNull(e.desc)||(o+=":Desc:"+e.desc),Utils.isNull(e.id)||(o+=":Id:"+e.id),console.log(o),toast(o),n.waitFor()},doExists:function(e,t){let n=this.build(e);return!!n&&n.exists()},clickParent:function(e){if(e){let t=e.depth();for(;t>0&&null!=e;){if(e.clickable()){e.click(),t=-1;break}if(!e.parent()){t=-1;break}e=e.parent(),t-=1}if(-1==t)return!0}else console.log("not click parent");return!1},clickChild:function(e){if(e){if(e.clickable())return e.click();e.children().forEach(e=>{if(e.clickable())return e.click()})}else console.log("not click child");return!1},doSet:function(mark,param){if(console.log("do set"),mark&&!Utils.isNull(mark.name)){let valName="cur"+Utils.titleCase(mark.name),value="";return param&&!Utils.isNull(param.default)&&(value=param.default),eval("Env."+valName+"=value;")}return null},doGet:function(mark,param){if(console.log("do get"),mark&&!Utils.isNull(mark.name)){let valName="Env.cur"+Utils.titleCase(mark.name);if(Utils.isNull(mark.uri))return eval(valName);{"api"==mark.uri&&(valName=Utils.titleCase(mark.uri)+".get"+Utils.titleCase(mark.name)+"();");let rs=eval(valName),setName={name:mark.name};return param&&!Utils.isNull(param.set)&&(setName=param.set),this.doSet(setName,{default:rs}),rs}}return null},doFun:function({name:name,mark:mark,param:param}){let delay=1e3;if(param&&param.delay>-1&&(delay=param.delay),sleep(delay),name){let funName="do"+Utils.titleCase(name);return eval("this."+funName+"(mark,param);")}console.log("not do fun:"+name)},delay:function(){let e=!1!==arguments[0],t="number"==typeof arguments[0]?arguments[0]:1e3;e?(sleep(t),console.log("delay",t)):console.log("not delay")}};module.exports=operate},,function(e,t,n){e.exports=n(7)},function(e,t,n){var o=n(0),r=(n(1),n(2),n(4));!function(){let e={name:"微博正文",pageid:o.PageEnum.DETAIL,mark:{id:"detail_activity_header_title_text",text:"微博正文",desc:"",className:""},operates:{config:{loop:1},init:[],jobs:[],finish:[{name:"click",mark:{id:"tv_userinfo"},param:{indexOf:{tag:"text",try:10,get:{name:"given_weibo_title",uri:"api"}}}}]}};if(e&&e.operates&&e.operates.jobs){let t=1;for(e.operates.config.loop&&e.operates.config.loop>-1&&(t=e.operates.config.loop);t>0;){t-=1;for(let n of e.operates.jobs){console.log("loop job:",t,JSON.stringify(n));{let e=r.doFun(n);toast(e),console.log("do fun return",e)}}sleep(500)}}console.log("curName:",o.curName),console.log("curTitleContent:",o.curTitleContent),console.log("curKeyword:",o.curKeyword),console.log("curHotTextItem:",o.curHotTextItem)}()}]);